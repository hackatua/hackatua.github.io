{
    "componentChunkName": "component---src-templates-wiki-page-tsx",
    "path": "/wiki/nmap/",
    "result": {"data":{"markdownRemark":{"fields":{"slug":"/wiki/nmap/"},"frontmatter":{"title":"Nmap"},"html":"<h1>Introducci√≥n</h1>\n<p>Nmap (Network Mapper) es una herramienta libre y opensource especializada en la exploraci√≥n de redes y auditor√≠as de seguridad.</p>\n<p>Utiliza paquetes IP en bruto para determinar cu√°les son los host actualmente disponibles en la red, qu√© servicios y versones de los mismos ofrecen estos hosts, qu√© sistema operativo est√° ejecutando, ...etc.</p>\n<h1>Uso</h1>\n<ul>\n<li><code class=\"language-text\">nmap [params] {target}</code></li>\n</ul>\n<h2>Par√°metros</h2>\n<ul>\n<li><code class=\"language-text\">--open</code>: muestra √∫nicamente los puertos abiertos</li>\n<li><code class=\"language-text\">--min-rate &lt;value></code>:</li>\n<li><code class=\"language-text\">-oG &lt;filename></code>: exporta en formato grepeable</li>\n<li><code class=\"language-text\">-oN &lt;filename></code>: exporta en formato nmap</li>\n</ul>\n<h3>Host Discovery</h3>\n<ul>\n<li><code class=\"language-text\">-sn</code>/<code class=\"language-text\">-sP</code>: escaneo usando Ping (ICMP). Desabilita el escaneo de puertos.</li>\n</ul>\n<aside>\nüí° <code class=\"language-text\">-sP</code> es la nomenclatura antigua por el ICMP scan.\n</aside>\n<aside>\nüí° Si realizamos este tipo de escaneo en una red local, nmap va a usar paquetes ARP para el escaneo, por lo que si el servidor tiene bloqueados los paquetes ICMP funcionar√≠a. En caso contrario, si la red no es local, usar√≠a paquetes ICMP y el firewall los bloquear√≠a.\nSe puede usar el par√°metro <code class=\"language-text\">--send-ip</code> para forzar el escenario de una red no local.\n</aside>\n<p>Usa 4 t√©cnicas diferentes para realizar este descubrimiento, 2 usando ICMP, y 2 usando TCP.</p>\n<ul>\n<li><code class=\"language-text\">-Pn</code>: Trata todos los hosts del target como online. No realiza host discovery.</li>\n<li><code class=\"language-text\">-n</code>: Deshabilita la resoluci√≥n DNS</li>\n<li><code class=\"language-text\">--traceroute</code>: Muestra el path hasta el host</li>\n</ul>\n<h3>Scan techniques</h3>\n<p>Por defecto nmap intenta usar la t√©cnica m√°s adecuada para el entorno del escaneo.</p>\n<ul>\n<li><code class=\"language-text\">-sS</code>: TCP SYN Stealth scan (half open scan)</li>\n<li><code class=\"language-text\">-sT</code>: TCP connect scan (full open scan)</li>\n</ul>\n<h3>Port specification</h3>\n<p>Si no se especifica el rango de puertos a escanear, nmap escane los 1000 puertos m√°s usados.</p>\n<ul>\n<li><code class=\"language-text\">-p &lt;port ranges></code>: esanea √∫nicamente los puertos especificados. Ej:\n<ul>\n<li><code class=\"language-text\">-p-</code>: escanea todos los puertos</li>\n<li><code class=\"language-text\">-p22</code>: escanea √∫nicamente el puerto 22</li>\n<li><code class=\"language-text\">-p1-65535</code>: escanea del puerto 1 al 65535</li>\n<li><code class=\"language-text\">-p U:53,111,137,T:21-25,80,139,8080,S:9</code>: escanea los puertos especificados</li>\n</ul>\n</li>\n</ul>\n<h3>Service/version detection</h3>\n<ul>\n<li><code class=\"language-text\">-sV</code>: prueba los puertos abiertos para detectar el servicio y la versi√≥n de los mismos</li>\n</ul>\n<h3>Scripts</h3>\n<ul>\n<li><code class=\"language-text\">-sC</code>: aplica los scripts por defecto (<em>default scripts</em>).</li>\n<li><code class=\"language-text\">--script=&lt;Lua scripts></code>: aplica los scripts especificados. Admite una lista de directorios, de ficheros de scripts o de categor√≠as de scripts. Ej:\n<ul>\n<li><code class=\"language-text\">--script=banner</code>: ejecuta el script banner</li>\n<li><code class=\"language-text\">--script=ip-geolocation-*</code>: ejecuta todos los scripts que empiezan por ‚Äúip-geolocation-‚Äù</li>\n</ul>\n</li>\n</ul>\n<h3>OS detection</h3>\n<ul>\n<li><code class=\"language-text\">-O</code>: habilita la detecci√≥n de sistema operativo</li>\n</ul>\n<h3>Timing and performance</h3>\n<ul>\n<li><code class=\"language-text\">-T&lt;0-5></code>: aplica diferentes plantillas de tiempo (0 m√°s lento a 5 m√°s r√°pido)</li>\n</ul>\n<h3>Evasi√≥n y spoofing de Firewalls/IDS</h3>\n<ul>\n<li><code class=\"language-text\">-f</code>: fragmetaci√≥n de paquetes</li>\n<li><code class=\"language-text\">-D &lt;decoy1, decoy2, ...></code>: esconde tu informaci√≥n a trav√©s de un se√±uelo</li>\n<li><code class=\"language-text\">-g</code>: puerto origen del escaneo</li>\n<li><code class=\"language-text\">--badsum</code>: env√≠a paquetes TCP/UDP/SCTP con un checksum incorrecto</li>\n</ul>\n<h3>Output</h3>\n<ul>\n<li><code class=\"language-text\">-v</code>: incrementa la verbosidad de la salida. Se pueden agregar m√°s ‚Äúv‚Äù para incrementar el nivel de verbosidad. Ej:\n<ul>\n<li><code class=\"language-text\">-vv</code></li>\n<li><code class=\"language-text\">-vvv</code></li>\n</ul>\n</li>\n<li><code class=\"language-text\">--packet-trace</code>: mustra todos los paquetes env√≠ados y recibidos en el escaneo</li>\n</ul>\n<h3>Misc</h3>\n<ul>\n<li><code class=\"language-text\">--send-ip</code>: fuerza el uso de paquetes IP para poder simular un entorno real en una red local.</li>\n<li><code class=\"language-text\">-A</code>: aplica detecci√≥n de OS (<code class=\"language-text\">-O</code>), versiones y servicios (<code class=\"language-text\">-sV</code>), script scanning (<code class=\"language-text\">-sC</code>) y traceroute(<code class=\"language-text\">--traceroute</code>)</li>\n</ul>\n<h2>Script engine</h2>\n<p>Se encuentran en <code class=\"language-text\">/usr/share/nmap/scripts</code>.</p>\n<p>Para listar los scripts con un texto concreto podemos usar <code class=\"language-text\">ls -l /usr/share/nmap/scripts/*{termino de b√∫squeda}*</code>.</p>\n<h3>Scripts</h3>\n<ul>\n<li><code class=\"language-text\">--script=banner</code>: similar a hacer usar netcat contra un puerto</li>\n</ul>\n<h3>Categories</h3>\n<ul>\n<li><code class=\"language-text\">--script=vuln</code>: ejecuta los scripts para la detecci√≥n de vulnerabilidades</li>\n</ul>\n<h2>Ejemplos</h2>\n<h3>Host discovery mediante Ping (ICMP)</h3>\n<ul>\n<li><code class=\"language-text\">nmap -sn -v 192.168.0.70</code></li>\n</ul>\n<h3>Host discovery mediante ICMP forzando uso de IP</h3>\n<ul>\n<li><code class=\"language-text\">nmap -sn --send-ip -v 192.168.0.70</code></li>\n</ul>\n<h3>Host discovery mediante ICMP forzando uso de IP mostrando paquetes</h3>\n<ul>\n<li><code class=\"language-text\">nmap -sn --send-ip --packet-trace -v 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de los 1000 puertos m√°s comunes ignorando el host discovery y sin resoluci√≥n DNS</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (TCP connect) a puertos espec√≠ficos a toda la red</h3>\n<ul>\n<li><code class=\"language-text\">nmap -sT -p 80,443 192.168.0.0/24</code></li>\n</ul>\n<h3>Escaneo de versiones de servicios en puertos concretos ignorando host discovery y sin resoluci√≥n DNS</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -sV -p22,80,443 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo de versiones de servicios y sistema operativo en puertos concretos ignorando host discovery y sin resoluci√≥n DNS</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -sV -O -p22,80,443 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de los 1000 puertos m√°s comunes ignorando el host discovery y sin resoluci√≥n DNS, y con fragmentaci√≥n de paquetes</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -f 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de los 1000 puertos m√°s comunes ignorando el host discovery y sin resoluci√≥n DNS, y con se√±uelo</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -D 192.168.0.50 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de los 1000 puertos m√°s comunes ignorando el host discovery y sin resoluci√≥n DNS, y con puerto origen definido</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -g 80 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de los 1000 puertos m√°s comunes ignorando el host discovery y sin resoluci√≥n DNS, y con checksum err√≥neo</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v --badsum 192.168.0.70</code></li>\n</ul>\n<h3>Escaneo (SYN Stealth) de puertos espec√≠ficos ignorando el host discovery y sin resoluci√≥n DNS, aplicando los scripts por defecto</h3>\n<ul>\n<li><code class=\"language-text\">nmap -n -Pn -v -sV --script=default -p22,80,443 192.168.0.70</code></li>\n</ul>"}},"pageContext":{"id":"01c05646-b54c-5630-9d6d-eeff52e9a712"}},
    "staticQueryHashes": []}